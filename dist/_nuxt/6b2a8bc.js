(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{531:function(e,t,l){"use strict";l.r(t);l(65),l(26);var n={data:function(){return{search:"",selectedHeaders:[],selectItems:[{text:"الجنسية",value:"nationality",width:120,sortable:!1},{text:"نوع الدراسة",value:"studyType",width:120,sortable:!1},{text:"سنة القبول",value:"yearStudy",width:120,sortable:!1},{text:"نوع القبول",value:"acceptedType",width:120,sortable:!1},{text:"الحالة",value:"studentStatus",width:120,sortable:!1},{text:"المحافظة",value:"province",width:120,sortable:!1},{text:"المدرسة",value:"schoolName",width:120,sortable:!1},{text:"المعدل",value:"average",width:120,sortable:!1},{text:"تاريخ التخرج",value:"graduationDate",width:120,sortable:!1}],defaultHeaders:[{text:"الرقم الجامعي",sortable:!0,align:"right",value:"collegeNumber",width:120},{text:"اسم الطالب",sortable:!0,align:"right",value:"studentName",width:120},{text:"الاسم الانجليزي",value:"englishName",width:120,sortable:!1},{text:"بريد الطالب",value:"mail",width:120,sortable:!1},{text:"الجنس",value:"gender",width:120,sortable:!1},{text:"تاريخ الميلاد",value:"dob",width:120,sortable:!1},{text:"القسم",value:"section",width:120,sortable:!1},{text:"المرحلة",value:"level",width:120,sortable:!1},{text:"الشعبة",value:"class",width:120,sortable:!1}],headersToShow:[],students:[],tableLoading:!0}},mounted:function(){var e=this;this.$axios.get("students").then((function(t){console.log(t.data),e.students=t.data.map((function(e){return{collegeNumber:e.collegeNumber,studentName:e.studentName,englishName:e.englishName,section:e.section.sectionName,studentStatus:e.studentStatus.statusName,province:null!==e.address?e.address.province.provinceName.provinceName:"",gender:e.gender?"انثى":"ذكر",mail:e.mail,nationality:e.nationality,studyType:e.studyType?"صباحي":"مسائي",yearStudy:e.yearStudy.year,dob:e.dob,acceptedType:e.acceptedType.acceptedName,schoolName:null!==e.studentSchool?e.studentSchool.schoolName:"",average:null!==e.studentSchool?e.studentSchool.average:"",graduationDate:null!==e.studentSchool?e.studentSchool.graduationDate:"",level:e.studentLevel.map((function(e){return 1===e.level?"المرحلة الاولى":2===e.level?"المرحلة الثانية":3===e.level?"المرحلة الثالثة":4===e.level?"المرحلة الرابعة":"المرحلة الخامسة"})),class:e.studentLevel.map((function(e){return e.class}))}})),e.tableLoading=!1})),this.selectedHeaders=this.defaultHeaders,this.selectItems=this.defaultHeaders.concat(this.selectItems)},methods:{toggleColumns:function(e){this.selectedHeaders=e},devAlert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"قيد التطوير";window.alert(e)},reloadTable:function(){this.selectedHeaders=[],this.selectedHeaders=this.defaultHeaders}}},r=n,o=l(54),d=l(69),c=l.n(d),v=l(194),h=l(416),m=l(449),x=l(515),w=l(423),y=l(526),f=l(516),_=l(453),S=l(421),N=l(455),H=l(52),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{attrs:{id:"StudentsMainPage"}},[l("v-toolbar",{staticClass:"shadow-navbar rounded-1 mb-5 mt-5",attrs:{color:"secondary"}},[l("h3",[e._v("الطلاب")]),e._v(" "),l("v-spacer"),e._v(" "),l("v-btn",{staticClass:"ml-3",attrs:{light:"",color:"primary",depressed:"",to:"/students/add/"}},[e._v("\n      اضافة طالب جديد\n    ")]),e._v(" "),l("v-btn",{staticClass:"primary--text ml-3",attrs:{color:"accent"},on:{click:function(t){return t.stopPropagation(),e.reloadTable.apply(null,arguments)}}},[e._v("\n      اعادة ضبط الجدول\n    ")]),e._v(" "),l("v-btn",{staticClass:"primary--text ml-3",attrs:{color:"warning",depressed:""},on:{click:function(t){return e.devAlert("قيد التطوير")}}},[e._v("\n      انشاء تقرير\n    ")]),e._v(" "),l("v-btn",{staticClass:"primary--text",attrs:{color:"success"},on:{click:function(t){return e.devAlert("قيد التطوير")}}},[e._v("\n      تصدير الجدول الحالي (excel)\n    ")])],1),e._v(" "),l("v-card",{staticClass:"shadow-navbar rounded-1",attrs:{id:"tableWrapper"}},[l("v-container",[l("v-data-table",{attrs:{id:"studntsTable",headers:e.selectedHeaders,items:e.students,search:e.search,loading:e.tableLoading,"items-per-page":50},scopedSlots:e._u([{key:"top",fn:function(){return[l("v-toolbar",{staticClass:"shadow-navbar rounded-1 mb-8",attrs:{color:"primary"}},[l("v-row",[l("v-col",{attrs:{cols:"6"}},[l("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"ابحث عن طالب","single-line":"","hide-details":"",color:"accent"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e._v(" "),l("v-col",{attrs:{cols:"6"}},[l("v-select",{attrs:{"hide-details":"",items:e.selectItems,label:"عرض الاعمدة",multiple:"","return-object":"","item-color":"accent"},on:{change:e.toggleColumns},scopedSlots:e._u([{key:"selection",fn:function(t){var n=t.item,r=t.index;return[r<=1?l("v-chip",{attrs:{color:"accent",small:""}},[l("span",{staticClass:"primary--text"},[e._v(e._s(n.text))])]):e._e(),e._v(" "),2===r?l("span",[e.selectedHeaders.length-1-1>=2?l("span",{staticStyle:{"font-size":"10px"}},[e._v("\n                        +"+e._s(e.selectedHeaders.length-1-1)+" اعمدة اخرى\n                      ")]):l("span",{staticStyle:{"font-size":"10px"}},[e._v("\n                        + عامود اخر\n                      ")])]):e._e()]}}]),model:{value:e.selectedHeaders,callback:function(t){e.selectedHeaders=t},expression:"selectedHeaders"}})],1)],1)],1)]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"c8559dc6",null);t.default=component.exports;c()(component,{VBtn:v.a,VCard:h.a,VChip:m.a,VCol:x.a,VContainer:w.a,VDataTable:y.a,VRow:f.a,VSelect:_.a,VSpacer:S.a,VTextField:N.a,VToolbar:H.a})}}]);