(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{648:function(t,e,n){"use strict";n.r(e);n(19),n(175);var o={props:{studentId:{type:Number,required:!0}},data:function(){return{disableNationalInfoArea:!0,disableResponsibleInfoArea:!0,disableNationalityCertificateArea:!0,responsibleName:"",responsiblePhone:"",nationalityCertificateNumber:"",nationalNumber:"",religion:"مسلم",motherName:"",phoneTypes:["رقم الام","رقم الاب","رقم الاقارب","رقم شخصي"],responsibleInfo:[],idNationalityCertificate:"",idNationalInfo:""}},mounted:function(){this.fetchStudents()},methods:{fetchStudents:function(){var t=this;this.$axios.get("student/".concat(this.studentId)).then((function(e){t.responsibleInfo=e.data.studentResponsables,null!==e.data.nationalInfo&&(t.motherName=e.data.nationalInfo.motherName,t.nationalNumber=e.data.nationalInfo.nationalNumber,t.religion=e.data.nationalInfo.religion,t.idNationalInfo=e.data.nationalInfo.idNationalInfo),e.data.nationalityCertificate.length>0&&(t.nationalityCertificateNumber=e.data.nationalityCertificate[0].nationalityNumber,t.idNationalityCertificate=e.data.nationalityCertificate[0].idNationalityCertificate)}))},saveStudentResponsible:function(){try{this.$toast.show("جاري حفظ المعلومات...",{duration:3e3,position:"top-center"}),this.$axios.post("addManyResponsible",{responsibleName:this.responsibleName,responsiblePhone:this.responsiblePhone,studentId:this.studentId}),this.$toast.success("تم حفظ المعلومات",{duration:3e3,position:"top-center"}),this.disableResponsibleInfoArea=!0,this.fetchStudents()}catch(t){console.log(t.response)}},saveStudentNational:function(){try{this.$toast.show("جاري حفظ المعلومات...",{duration:3e3,position:"top-center"}),this.$axios.post("addNationalInfo",{idNationalInfo:this.idNationalInfo,nationalNumber:this.nationalNumber,motherName:this.motherName,religion:this.religion,studentId:this.studentId}),this.$toast.success("تم حفظ المعلومات",{duration:3e3,position:"top-center"}),this.disableNationalInfoArea=!0,this.fetchStudents()}catch(t){console.log(t.response)}},saveStudentNationalCertificate:function(){try{this.$toast.show("جاري حفظ المعلومات...",{duration:3e3,position:"top-center"}),this.$axios.post("addNationalityCertificate",{nationalityNumber:this.nationalityCertificateNumber,idNationalityCertificate:this.idNationalityCertificate,studentId:this.studentId}),this.$toast.success("تم حفظ المعلومات",{duration:3e3,position:"top-center"}),this.disableNationalityCertificateArea=!0,this.fetchStudents()}catch(t){console.log(t.response.errorMessage)}},deletePhoneNmuber:function(t){try{this.$toast.show("جاري حذف الرقم...",{duration:3e3,position:"top-center"}),this.$axios.delete("studentResponsible/".concat(t.idStudentResponsible)),this.$toast.success("تم حذف الرقم بنجاح",{duration:3e3,position:"top-center"}),this.responsibleInfo.splice(t,1)}catch(t){console.log(t)}}}},l=n(52),r=n(56),c=n.n(r),d=n(128),m=n(436),f=n(706),v=n(426),h=n(707),N=n(203),I=n(204),x=n(127),y=n(205),C=n(209),_=n(57),k=n(708),A=n(449),w=n(585),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-10"},[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.saveStudentResponsible.apply(null,arguments)}}},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"5",lg:"5",xl:"5"}},[n("v-select",{attrs:{color:"accent",items:t.phoneTypes,label:"نوع الهاتف",outlined:"","item-color":"accent",disabled:t.disableResponsibleInfoArea},model:{value:t.responsibleName,callback:function(e){t.responsibleName=e},expression:"responsibleName"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"5",lg:"5",xl:"5"}},[n("v-text-field",{attrs:{color:"accent",label:"رقم ولي الامر",outlined:"",disabled:t.disableResponsibleInfoArea},model:{value:t.responsiblePhone,callback:function(e){t.responsiblePhone=e},expression:"responsiblePhone"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"2",lg:"2",xl:"2"}},[t.disableResponsibleInfoArea?t._e():n("v-btn",{attrs:{color:"success",depressed:"",large:"",block:""},on:{click:t.saveStudentResponsible}},[n("span",{staticClass:"primary--text"},[t._v("حفظ المعلومات")])]),t._v(" "),t.disableResponsibleInfoArea?n("v-btn",{attrs:{color:"warning",depressed:"",large:"",block:""},on:{click:function(e){t.disableResponsibleInfoArea=!1}}},[n("span",{staticClass:"primary--text"},[t._v("تعديل المعلومات")])]):t._e()],1),t._v(" "),n("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[n("v-card",{attrs:{color:"primary",elevation:"0"}},t._l(t.responsibleInfo,(function(e){return n("v-list",{key:e.idStudentResponsible,attrs:{nav:"",dense:"",outlined:""}},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",{staticClass:"grey lighten-1",attrs:{dark:""}},[t._v(" mdi-phone ")])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.responsibleName)}}),t._v(" "),n("v-list-item-subtitle",{domProps:{textContent:t._s(e.responsiblePhone)}})],1),t._v(" "),n("v-list-item-action",[n("v-btn",{attrs:{icon:""},on:{click:function(n){return t.deletePhoneNmuber(e)}}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[t._v("mdi-delete")])],1)],1)],1)],1)})),1)],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-row",{staticClass:"mt-5"},[n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[n("v-text-field",{attrs:{color:"accent",label:"رقم الجنسية",outlined:"",disabled:t.disableNationalInfoArea},model:{value:t.nationalNumber,callback:function(e){t.nationalNumber=e},expression:"nationalNumber"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"4",lg:"4",xl:"4"}},[n("v-text-field",{attrs:{color:"accent",label:"اسم الام",outlined:"",disabled:t.disableNationalInfoArea},model:{value:t.motherName,callback:function(e){t.motherName=e},expression:"motherName"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"2",lg:"2",xl:"2"}},[n("v-text-field",{attrs:{color:"accent",label:"الديانة",outlined:"",disabled:t.disableNationalInfoArea},model:{value:t.religion,callback:function(e){t.religion=e},expression:"religion"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"2",lg:"2",xl:"2"}},[t.disableNationalInfoArea?t._e():n("v-btn",{attrs:{color:"success",depressed:"",large:"",block:""},on:{click:t.saveStudentNational}},[n("span",{staticClass:"primary--text"},[t._v("حفظ المعلومات")])]),t._v(" "),t.disableNationalInfoArea?n("v-btn",{attrs:{color:"warning",depressed:"",large:"",block:""},on:{click:function(e){t.disableNationalInfoArea=!1}}},[n("span",{staticClass:"primary--text"},[t._v("تعديل المعلومات")])]):t._e()],1)],1),t._v(" "),n("v-divider"),t._v(" "),n("v-row",{staticClass:"mt-5"},[n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"10",lg:"10",xl:"10"}},[n("v-text-field",{attrs:{color:"accent",label:"رقم شهادة الجنسية",outlined:"",disabled:t.disableNationalityCertificateArea},model:{value:t.nationalityCertificateNumber,callback:function(e){t.nationalityCertificateNumber=e},expression:"nationalityCertificateNumber"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"2",lg:"2",xl:"2"}},[t.disableNationalityCertificateArea?t._e():n("v-btn",{attrs:{color:"success",depressed:"",large:"",block:""},on:{click:t.saveStudentNationalCertificate}},[n("span",{staticClass:"primary--text"},[t._v("حفظ المعلومات")])]),t._v(" "),t.disableNationalityCertificateArea?n("v-btn",{attrs:{color:"warning",depressed:"",large:"",block:""},on:{click:function(e){t.disableNationalityCertificateArea=!1}}},[n("span",{staticClass:"primary--text"},[t._v("تعديل المعلومات")])]):t._e()],1)],1)],1)],1)}),[],!1,null,"4b1479b9",null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:m.a,VCol:f.a,VDivider:v.a,VForm:h.a,VIcon:N.a,VList:I.a,VListItem:x.a,VListItemAction:y.a,VListItemAvatar:C.a,VListItemContent:_.a,VListItemSubtitle:_.b,VListItemTitle:_.c,VRow:k.a,VSelect:A.a,VTextField:w.a})}}]);