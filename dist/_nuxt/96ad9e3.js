(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{405:function(t,e,r){"use strict";var o=r(197);e.a=o.a},458:function(t,e,r){var o=r(5),n=r(273),l=r(106);o({target:"Object",stat:!0},{fromEntries:function(t){var e={};return n(t,(function(t,r){l(e,t,r)}),{AS_ENTRIES:!0}),e}})},459:function(t,e,r){"use strict";r(33),r(66);var o=function(table,t,e){table.nodeType||(table=document.querySelector(table));var r,o={worksheet:t||"Worksheet",table:table.innerHTML};document.getElementById("dlink").href="data:application/vnd.ms-excel;base64,"+function(s){return window.btoa(unescape(encodeURIComponent(s)))}((r=o,'<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head>\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table>{table}</table></body></html>'.replace(/{(\w+)}/g,(function(t,p){return r[p]})))),document.getElementById("dlink").download=e,document.getElementById("dlink").click()};e.a=o},690:function(t,e,r){"use strict";r.r(e);r(458),r(85),r(64),r(8);var o=r(459),n={data:function(){return{reportsDialog:!1,orderTitleDialog:!1,createOrderTitleDialog:!1,orders:[],students:[],search:"",orderYearText:"",userNameText:"",reportsForm:!1,reportOrderTitleId:"",reportOrderNumber:"",reportOrderYear:"",reportOrderDate:"",reportStudentId:"",reportOrderStudyType:"",reportOrderLevel:"",reportOrderSection:"",reportOrderStatus:"",selectOrderTitle:[],selectOrderYear:[],selectOrderStudent:[],selectOrderStudyType:[{text:"صباحي",value:"1"},{text:"مسائي",value:"0"}],selectOrderLevel:[{text:"المرحلة الاولى",value:1},{text:"المرحلة الثانية",value:2},{text:"المرحلة الثالثة",value:3},{text:"المرحلة الرابعة",value:4},{text:"المرحلة الخامسة",value:5}],selectOrderStudentStatus:[],selectOrderSection:[],headers:[{text:"#",value:"idAdministrative",sortable:!1,align:"start"},{text:"عنوان الامر",value:"orderTitle.title",sortable:!1,align:"start"},{text:"رقم الامر",value:"orderNumber",sortable:!1,align:"start"},{text:"سنة الامر",value:"orderYear",sortable:!1,align:"start"},{text:"تاريخ الامر",value:"orderDate",sortable:!1,align:"start"},{text:"مرحلة الامر",value:"orderLevel",sortable:!1,align:"start"},{text:"بواسطة",value:"createdBy",sortable:!1,align:"start"}]}},mounted:function(){var t=this;this.fetchOrders(),this.$axios.get("orderTitles").then((function(e){t.selectOrderTitle=e.data})),this.$axios.get("yearStudies").then((function(e){t.selectOrderYear=e.data})),this.$axios.get("sections").then((function(section){t.selectOrderSection=section.data})),this.$axios.get("studentsStatus").then((function(e){t.selectOrderStudentStatus=e.data})),this.$axios.get("students").then((function(e){t.students=e.data}))},methods:{fetchOrders:function(){var t=this;this.$axios.get("administrativeOrders").then((function(e){t.orders=e.data}))},orderYearById:function(t){var e=this;this.$axios.get("yearStudy/"+t).then((function(t){e.orderYearText=t.data.year}))},orderLevel:function(t){var text="";return 1===t&&(text="المرحلة الاولى"),2===t&&(text="المرحلة الثانية"),3===t&&(text="المرحلة الثالثة"),4===t&&(text="المرحلة الرابعة"),5===t&&(text="المرحلة الخامسة"),text},userById:function(t){var e=this;this.$axios.get("user/"+t).then((function(t){e.userNameText=t.data.userName}))},createOrderTitle:function(){var t=this,data=Object.fromEntries(new FormData(event.target));this.$axios.post("addOrderTitle",{title:data.title,createdBy:1}).then((function(e){t.$toast.success("تم حفظ المعلومات",{duration:3e3,position:"top-center"}),t.createOrderTitleDialog=!1})).catch((function(t){console.log(t)}))},createReports:function(){var t=this,data=Object.fromEntries(new FormData(event.target)),e={};data.reportOrderTitleId&&(e.orderTitleId=data.reportOrderTitleId),data.reportOrderNumber&&(e.orderNumber=data.reportOrderNumber),data.reportOrderYear&&(e.orderYear=data.reportOrderYear),data.reportOrderDate&&(e.orderDate=data.reportOrderDate),data.reportStudentId&&(e.studentId=data.reportStudentId),data.reportOrderStudyType&&(e.studyType=data.reportOrderStudyType),data.reportOrderLevel&&(e.orderLevel=data.reportOrderLevel),data.reportOrderSection&&(e.sectionId=data.reportOrderSection),data.reportOrderStatus&&(e.studentStatusId=data.reportOrderStatus);var r=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");this.$axios.get("searchOrder?".concat(r)).then((function(e){t.orders=e.data,t.reportsDialog=!1})).catch((function(t){console.log(t)}))},tableExport:function(t,e,r){Object(o.a)(t,e,r)}}},l=n,c=r(51),d=r(56),v=r.n(d),m=r(678),x=r(197),f=r(419),h=r(455),O=r(426),y=r(687),_=r(420),S=r(409),T=r(456),k=r(187),w=r(457),D=r(463),I=r(424),C=r(447),E=r(50),Y=r(679),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-dialog",{attrs:{persistent:"",transition:"slide-y-transition","max-width":"750px"},model:{value:t.reportsDialog,callback:function(e){t.reportsDialog=e},expression:"reportsDialog"}},[r("v-card",{staticClass:"shadow-1 rounded-1",attrs:{color:"secondary"}},[r("v-toolbar",{staticClass:"shadow-1 rounded-1",attrs:{color:"primary"}},[r("h4",[t._v("فرز الاوامر الادارية")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:"",color:"accent"},on:{click:function(e){t.reportsDialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),r("v-container",[r("v-form",{ref:"reportsForm",on:{submit:function(e){return e.preventDefault(),t.createReports.apply(null,arguments)}},model:{value:t.reportsForm,callback:function(e){t.reportsForm=e},expression:"reportsForm"}},[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-autocomplete",{attrs:{name:"reportStudentId",items:t.students,color:"accent","item-text":"studentName","item-value":"idStudent",outlined:"",label:"اسم الطالب"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderSection",items:t.selectOrderSection,"item-text":"sectionName","item-value":"idSection","item-color":"accent",color:"accent",outlined:"",label:"القسم"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderLevel",items:t.selectOrderLevel,"item-color":"accent",color:"accent",outlined:"",label:"المرحلة"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderStatus",items:t.selectOrderStudentStatus,"item-text":"statusName","item-value":"idStatus","item-color":"accent",color:"accent",outlined:"",label:"حالة الطالب"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderStudyType",items:t.selectOrderStudyType,"item-color":"accent",color:"accent",outlined:"",label:"نوع الدراسة"}})],1)],1),t._v(" "),r("v-divider"),t._v(" "),r("v-row",{staticClass:"mt-5"},[r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderTitleId",items:t.selectOrderTitle,"item-text":"title","item-value":"idOrderTitle","item-color":"accent",color:"accent",outlined:"",label:"عنوان الامر"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-text-field",{attrs:{name:"reportOrderNumber",color:"accent",outlined:"",label:"رقم الامر"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-select",{attrs:{name:"reportOrderYear",items:t.selectOrderYear,"item-text":"year","item-value":"idStudyYear","item-color":"accent",color:"accent",outlined:"",label:"سنة الامر"}})],1),t._v(" "),r("v-col",{attrs:{cols:"12",xs:"12",sm:"12",md:"6",lg:"6",xl:"6"}},[r("v-text-field",{attrs:{name:"reportOrderDate",color:"accent",outlined:"",label:"تاريخ الامر"}})],1)],1),t._v(" "),r("v-btn",{attrs:{type:"submit",color:"success",block:"",depressed:""}},[r("span",{staticClass:"secondary--text"},[t._v("تطبيق الفرز")])])],1)],1)],1)],1),t._v(" "),r("v-dialog",{attrs:{persistent:"",transition:"slide-y-transition","max-width":"750px"},model:{value:t.createOrderTitleDialog,callback:function(e){t.createOrderTitleDialog=e},expression:"createOrderTitleDialog"}},[r("v-card",{staticClass:"shadow-1 rounded-1",attrs:{color:"secondary"}},[r("v-toolbar",{staticClass:"shadow-1 rounded-1",attrs:{color:"primary"}},[r("h4",[t._v("انشاء الاوامر الادارية")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{icon:"",color:"accent"},on:{click:function(e){t.createOrderTitleDialog=!1}}},[r("v-icon",[t._v("mdi-close")])],1)],1),t._v(" "),r("div",{staticClass:"pa-10"},[r("v-form",{on:{submit:function(e){return e.preventDefault(),t.createOrderTitle.apply(null,arguments)}}},[r("v-text-field",{attrs:{name:"title",color:"accent",label:"عنوان الاوامر الادارية",outlined:""}}),t._v(" "),r("v-btn",{staticClass:"primary--text",attrs:{color:"success",block:"",large:"",depressed:"",type:"submit"}},[t._v("حفظ")])],1)],1)],1)],1),t._v(" "),r("v-toolbar",{staticClass:"shadow-navbar rounded-1 mb-5 mt-5",attrs:{color:"secondary"}},[r("h1",[t._v("الاوامر الادارية")]),t._v(" "),r("v-spacer"),t._v(" "),r("v-tooltip",{attrs:{bottom:"",color:"accent",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"ml-3 primary--text",attrs:{light:"",color:"accent",depressed:"",icon:""},on:{click:function(e){t.createOrderTitleDialog=!0}}},"v-btn",n,!1),o),[r("v-icon",[t._v("mdi-plus")])],1)]}}])},[t._v(" "),r("span",{staticClass:"primary--text"},[t._v("اضافة عنوان امر اداري")])]),t._v(" "),r("v-tooltip",{attrs:{bottom:"",color:"accent",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"ml-3 primary--text",attrs:{light:"",color:"accent",depressed:"",icon:""},on:{click:function(e){t.reportsDialog=!0}}},"v-btn",n,!1),o),[r("v-icon",[t._v("mdi-sort")])],1)]}}])},[t._v(" "),r("span",{staticClass:"primary--text"},[t._v("انشاء تقرير")])]),t._v(" "),r("v-tooltip",{attrs:{bottom:"",color:"accent",transition:"slide-y-transition"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,n=e.attrs;return[r("v-btn",t._g(t._b({staticClass:"primary--text ml-3",attrs:{icon:"",color:"accent"},on:{click:function(e){return t.tableExport("#orderTable table","orders","reports.xls")}}},"v-btn",n,!1),o),[r("v-icon",[t._v("mdi-download")])],1)]}}])},[t._v(" "),r("span",{staticClass:"primary--text"},[t._v("تصدير الجدول")])])],1),t._v(" "),r("v-data-table",{attrs:{id:"orderTable",headers:t.headers,items:t.orders,search:t.search},scopedSlots:t._u([{key:"item.orderYear",fn:function(e){var o=e.item;return[r("div",[t._v(t._s(t.orderYearById(o.orderYear)))]),t._v("\n      "+t._s(t.orderYearText)+"\n    ")]}},{key:"item.orderLevel",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.orderLevel(r.orderLevel))+"\n    ")]}},{key:"item.createdBy",fn:function(e){var r=e.item;return[t._v("\n      "+t._s(t.userById(r.createdBy))+"\n      "+t._s(t.userNameText)+"\n    ")]}}],null,!0)}),t._v(" "),r("a",{staticClass:"d-none",attrs:{id:"dlink",href:""}},[t._v("Download")])],1)}),[],!1,null,"5060ac9c",null);e.default=component.exports;v()(component,{VAutocomplete:m.a,VBtn:x.a,VCard:f.a,VCol:h.a,VContainer:O.a,VDataTable:y.a,VDialog:_.a,VDivider:S.a,VForm:T.a,VIcon:k.a,VRow:w.a,VSelect:D.a,VSpacer:I.a,VTextField:C.a,VToolbar:E.a,VTooltip:Y.a})}}]);